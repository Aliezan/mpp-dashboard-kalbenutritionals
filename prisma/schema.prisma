generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  USER
  ADMIN
  SUPER
}

enum Status {
  PENDING
  APPROVED
  REJECTED
}

model User {
  id             String       @id @default(uuid())
  email          String       @unique
  name           String
  password       String
  createdAt      DateTime     @default(now())
  role           Role         @default(USER)
  Org_Group_Name String?
  MPP            MPP[]
  DeficitMPP     DeficitMPP[]
}

model MPP {
  user           User     @relation(fields: [userId], references: [id])
  userId         String
  id             String   @id @default(uuid())
  isApproved     Status   @default(PENDING)
  Employee_ID    String
  Employee_Name  String
  Join_Date      DateTime @db.Date
  Job_Title_Name String
  Org_Group_Name String
  Job_Level_Code String
  Category       String
  Status         String
  MPP            Int      @default(1)
  Actual         Int      @default(1)
  Gap            Int      @default(0)
}

model DeficitMPP {
  user           User   @relation(fields: [userId], references: [id])
  userId         String
  id             String @id @default(uuid())
  Org_Group_Name String
  Job_Title_Name String
  Job_Level_Code String
  Category       String
  Status         String
  MPP            Int    @default(1)
  Actual         Int    @default(0)
  Gap            Int    @default(-1)
}
